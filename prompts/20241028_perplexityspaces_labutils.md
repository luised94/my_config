# Prompt 1

I used a large language model to help me restructure my configuration repository. I decide to go through all of the files without rigorously testing along the way. I now I have to make sure the repository is coherent and functional. I do have a deadline so we have to remain focused. The code will be used between my local computer and ÿa linux cluster environment. Your task is to help me go through the repository, anticipate common problems, detect any duplications or errors, output high-quality industrial grade code, etcetera. I would like to setup the project such that the root is ~/lab_utils but I should be able to run my scripts from anywhere for the bash and the R scripts. I am using renv for package management in the case of R. I have included the directory structure in the linux cluster for reference. the data folder contains the directories for each sequencing experiment and it is a symbolic link. Our project should be simple, but robust, efficient maintainable and structured since it will used for a publication. We first have to setup functional scripts to setup an experiment. Lets start with the init.R file and the init_config.R Reference files: perplexity_conding_standard.md: coding standards to follow. repository_aggregate.md: Entire text for the relevant files in the code repository. treestructure_norenv.txt: Directory structure of the code repository. linux_cluster_directory.txt: Directory structure of the linux cluster environment. Analyze the following file: /R/init.R #!/usr/bin/env Rscript #' Project Initialization initialize_project <- function() { ÿ ÿ# Setup error handling ÿ ÿoptions(error = function() { ÿ ÿ ÿ ÿcat("Error occurred in initialization\n") ÿ ÿ ÿ ÿif (interactive()) recover() ÿ ÿ}) ÿ ÿtryCatch({ ÿ ÿ ÿ ÿ# Load basic configuration ÿ ÿ ÿ ÿsource("config/init_config.R") ÿ ÿ ÿ ÿ# Check environment ÿ ÿ ÿ ÿcheck_environment() ÿ ÿ ÿ ÿ# Load priority scripts first ÿ ÿ ÿ ÿload_priority_scripts() ÿ ÿ ÿ ÿ# Load remaining function scripts ÿ ÿ ÿ ÿload_directory_scripts(CONFIG$PATHS$FUNCTIONS) ÿ ÿ ÿ ÿ# Load script directories ÿ ÿ ÿ ÿfor (dir in c(CONFIG$PATHS$SCRIPTS, CONFIG$PATHS$CONFIG)) { ÿ ÿ ÿ ÿ ÿ ÿload_directory_scripts(dir) ÿ ÿ ÿ ÿ} ÿ ÿ ÿ ÿlog_info("Project initialization completed successfully") ÿ ÿ}, error = function(e) { ÿ ÿ ÿ ÿcat("Critical initialization error:", e$message, "\n") ÿ ÿ ÿ ÿif (interactive()) { ÿ ÿ ÿ ÿ ÿ ÿrecover() ÿ ÿ ÿ ÿ} else { ÿ ÿ ÿ ÿ ÿ ÿquit(status = 1) ÿ ÿ ÿ ÿ} ÿ ÿ}) } initialize_project() ./R/config/init_config.R #' Initialization Configuration CONFIG <- list( ÿ ÿINITIALIZATION = list( ÿ ÿ ÿ ÿPATHS = list( ÿ ÿ ÿ ÿ ÿ ÿBASE = "R", ÿ ÿ ÿ ÿ ÿ ÿFUNCTIONS = "functions", ÿ ÿ ÿ ÿ ÿ ÿSCRIPTS = "scripts", ÿ ÿ ÿ ÿ ÿ ÿCONFIG = "config", ÿ ÿ ÿ ÿ ÿ ÿTEMPLATES = "templates" ÿ ÿ ÿ ÿ), ÿ ÿ ÿ ÿPATTERNS = list( ÿ ÿ ÿ ÿ ÿ ÿR_FILES = "\\.R$", ÿ ÿ ÿ ÿ ÿ ÿCONFIG_FILES = "^[^.].\\*\\.R$", ÿ ÿ ÿ ÿ ÿ ÿEXCLUDE = c("^\\.", "^_", "test_", "example_") ÿ ÿ ÿ ÿ), ÿ ÿ ÿ ÿLOAD_ORDER = list( ÿ ÿ ÿ ÿ ÿ ÿPRIORITY = c( ÿ ÿ ÿ ÿ ÿ ÿ ÿ ÿ"logging_utils.R", ÿ ÿ ÿ ÿ ÿ ÿ ÿ ÿ"environment_utils.R", ÿ ÿ ÿ ÿ ÿ ÿ ÿ ÿ"validation_utils.R" ÿ ÿ ÿ ÿ ÿ ÿ), ÿ ÿ ÿ ÿ ÿ ÿOPTIONAL = c( ÿ ÿ ÿ ÿ ÿ ÿ ÿ ÿ"analysis_utils.R", ÿ ÿ ÿ ÿ ÿ ÿ ÿ ÿ"visualization_utils.R" ÿ ÿ ÿ ÿ ÿ ÿ) ÿ ÿ ÿ ÿ) ÿ ÿ), ÿ ÿENVIRONMENT = list( ÿ ÿ ÿ ÿREQUIRED_VARS = c( ÿ ÿ ÿ ÿ ÿ ÿ"HOME", ÿ ÿ ÿ ÿ ÿ ÿ"R_LIBS_USER", ÿ ÿ ÿ ÿ ÿ ÿ"WINDOWS_USER" ÿ ÿ ÿ ÿ), ÿ ÿ ÿ ÿPATHS = list( ÿ ÿ ÿ ÿ ÿ ÿUSER_LIB = "~/R/library", ÿ ÿ ÿ ÿ ÿ ÿRENV = "renv" ÿ ÿ ÿ ÿ) ÿ ÿ) ) #' Initialization Configuration CONFIG <- list( ÿ ÿPATHS = list( ÿ ÿ ÿ ÿBASE = "R", ÿ ÿ ÿ ÿFUNCTIONS = "functions", ÿ ÿ ÿ ÿSCRIPTS = "scripts", ÿ ÿ ÿ ÿCONFIG = "config", ÿ ÿ ÿ ÿTEMPLATES = "templates" ÿ ÿ), ÿ ÿLOAD_ORDER = list( ÿ ÿ ÿ ÿPRIORITY = c( ÿ ÿ ÿ ÿ ÿ ÿ"logging_utils.R", ÿ ÿ ÿ ÿ ÿ ÿ"environment_utils.R", ÿ ÿ ÿ ÿ ÿ ÿ"validation_utils.R" ÿ ÿ ÿ ÿ), ÿ ÿ ÿ ÿOPTIONAL = c( ÿ ÿ ÿ ÿ ÿ ÿ"analysis_utils.R", ÿ ÿ ÿ ÿ ÿ ÿ"visualization_utils.R" ÿ ÿ ÿ ÿ) ÿ ÿ), ÿ ÿPATTERNS = list( ÿ ÿ ÿ ÿR_FILES = "\\.R$", ÿ ÿ ÿ ÿEXCLUDE = c("^\\.", "^_", "test_", "example_") ÿ ÿ), ÿ ÿENVIRONMENT = list( ÿ ÿ ÿ ÿREQUIRED_VARS = c( ÿ ÿ ÿ ÿ ÿ ÿ"HOME", ÿ ÿ ÿ ÿ ÿ ÿ"R_LIBS_USER", ÿ ÿ ÿ ÿ ÿ ÿ"WINDOWS_USER" ÿ ÿ ÿ ÿ) ÿ ÿ) ) Required: 1\. Analysis and summary of purpose 2\. Standards compliance 3\. Impact analysis 4\. Complete standard-compliance upgrade code 5\. Potential downstream effect prediction and next step follow up instructions on specific files

## Prompt 2

`Maintain awareness of: - Active files - Current context - Previous interactions - System state - Pending actions`

Reference files: perplexity_conding_standard.md: coding standards to follow. repository_aggregate.md: Entire text for the relevant files in the code repository. treestructure_norenv.txt: Directory structure of the code repository. linux_cluster_directory.txt: Directory structure of the linux cluster environment. dir_tree_output.txt: Directory structure of the code repository in the linux cluster environment.  
User feedback:

Before moving on to the logging, environment and validate files, we have to fix certain things. From now on, **we must always explicitly declare arguments with clear parameter names. In this case, the configuration settings should be passed to the functions.**

Reanalyze and upgrade the init_config.R and init.R files to follow standards. Assign more descriptive less ambiguous names to the files. Label one of the functions clearly as the main function. For example, instead of initialize_project, do initialize_project_main.

# **Required:**

# **1\. Analysis and summary of purpose 2. Standards compliance 3. Impact analysis 4. Complete standard-compliance upgrade code 5. Potential downstream effect prediction and next step follow up instructions on specific files**

## Prompt 3

`Maintain awareness of: - Active files - Current context - Previous interactions - System state - Pending actions`

Reference files: perplexity_conding_standard.md: coding standards to follow. repository_aggregate.md: Entire text for the relevant files in the code repository. treestructure_norenv.txt: Directory structure of the code repository. linux_cluster_directory.txt: Directory structure of the linux cluster environment. dir_tree_output.txt: Directory structure of the code repository in the linux cluster environment.  
User feedback:

Before moving on to the logging, environment and validate files, we have to fix certain things. From now on, **we must always explicitly declare arguments with clear parameter names. In this case, the configuration settings should be passed to the functions.**

Reanalyze and upgrade the init_config.R and init.R files to follow standards. Assign more descriptive less ambiguous names to the files. Label one of the functions clearly as the main function. For example, instead of initialize_project, do initialize_project_main.

# **Required:**

# **1\. Analysis and summary of purpose 2. Standards compliance 3. Impact analysis 4. Complete standard-compliance upgrade code 5. Potential downstream effect prediction and next step follow up instructions on specific files**
